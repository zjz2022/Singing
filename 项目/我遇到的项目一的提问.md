# 项目介绍

**ZJZ-Imaginify**

部署平台：https://imaginify-zeta-woad.vercel.app/

- 项目概述：一个利用AI构建的图片SaaS平台

- 前端：**Next.js，TypeScript，Shadcn，Tailwind CSS**
- 后端：**MongoDB，Clerk，Cloudinary，Stripe**
- 主要功能
  - 使用 **Cloudinary A**I 提供了全方位的图片处理功能，包括展示、高级检索、修复、重新上色、生成填充，物体与背景去除
  - 通过 Stripe 安全地购买积分，以便持续使用服务
  - 使用 **Clerk** 进行凭证身份验证，谷歌身份验证集合，Github 身份验证集成
  - 使用**react-hook-form**和**Zod Validation**进行图像添加表单的验证和处理。

问：聊聊你做的项目，遇到了什么问题，采用了什么解决方案

答：遇到的需求+你的解决方案（什么问题？为什么要解决这个问题？解决方案）

# 最有挑战的项目经历

这个问题就是在问：哪个功能最难？这个功能是怎么实现的？原理？就是让你挑一个最难的功能，讲讲从思考到选型到实现具体是怎么做的

# 技术选型

## nextjs

Next.js 是一个基于React的开源JavaScript框架，主要用于构建服务器渲染和静态生成的web应用程序。Next.js 有以下一些主要好处：

1. **服务器端渲染**（Server Side Rendering）：Next.js 允许你在服务器端预渲染React组件，这可以提高首次加载时的性能，并且**对SEO非常有益，因为搜索引擎抓取器可以更容易地解析服务器渲染的HTML。**

2. **静态站点生成**（Static Site Generation）：Next.js 不仅支持SSR，也支持静态网站生成。这意味着你可以构建完全静态的网站，这些网站可以被CDN分发，从而提供更快的内容传递速度。

3. **文件系统路由**：Next.js 使用文件系统进行页面路由。在pages目录下创建的每一个file都自动地成为一个路由。这使得构建和扩展大型项目简单直接。

4. **内建CSS支持**：Next.js允许你直接在组件中导入CSS文件，或使用JSX样式，无须配置任何额外的加载器。

5. **热代码替换**（Hot Module Replacement）：Next.js 实现了开箱即用的热代码替换，这意味着当你在开发时修改了代码，你的应用程序会即时刷新来应用这些更改。

6. **零配置**：Next.js 默认配置用于最常见的cases，从而降低了设置项目的复杂性。但如果需要，你也可以稍加修改来满足你的特定需求。

7. **API路由**：除了前端页面路由，Next.js还支持创建API路由，使其可以作为后端服务器用来处理HTTP请求。

8. **TypeScript支持**：Next.js 默认支持TypeScript，只需简单配置即可使用，无需安装额外插件。

选用Next.js和TypeScript，是因为Next.js是一个功能齐全的React框架，可以进行SSR，也支持与Vercel无缝集成。而使用TypeScript是为了强类型、自动补全和代码的健壮性。Tailwind CSS则提供了高度可定制的实用工具类，可以快速编写自定义UI。

## typescript

TypeScript的优点

它为开发人员和软件开发团队提供了显著的优势。在下一个项目的开发中，TypeScript有五个主要的优势：

#### （1）编译时错误

这是使用TypeScript的一个明显的优势。编译时错误是大多数开发人员开始使用它的原因。他们可以使用编译器在编译时而不是运行时检测潜在的错误。

JavaScript无法支持类型和编译时错误检查，这意味着它不适合复杂和大型代码库中的服务器端代码。

使用TypeScript的另一个原因是它在开发过程中**检测编译错误**，从而不太可能发生运行时错误。它**结合了静态类型**，**帮助开发人员在编译时检查类型是否正确**。

#### （2）到处运行

TypeScript可以编译成纯JavaScript，这意味着它可以在任何地方运行。事实上，它可以编译成JavaScript的任何版本，包括最新版本ES2022以及其他版本（例如ES6、ES5和ES3）。开发人员可以在前端使用React和Angular这样的框架，或者在后端使用Node.js。

#### （3）工具优先于文档

如果想要开发一个长期成功的项目，文档是必不可少的。但这可能很棘手，因为很容易忽略文档，很难执行，而且如果不再是最新的文档，就不可能报告。这使得工具优先于文档变得至关重要。

TypeScript非常重视工具。这不仅仅是输入代码时的错误和补全。它记录了函数期望的参数、对象的形状以及可能未定义的变量。它还会通知开发人员何时需要更新以及更新的具体位置。

如果没有这种编程语言，开发人员将不得不浪费大量时间查找对象的形状，梳理文档，并希望它们是最新的。或者将不得不调试代码，并希望对哪些字段是必需的和可选的预测是准确的。

#### （4）面向对象编程(OOP)

作为一种面向对象的编程语言，TypeScript非常适合必须主动更新或维护的大型复杂项目。面向对象编程提供的一些好处是：

- 通过继承重用代码：在对象之间分配关系和子类的能力使开发人员能够在保留唯一层次结构的同时重用公共逻辑。面向对象编程(OOP)的这一属性加快了开发速度，并通过支持更深入的数据分析提供了更高的准确性。
- 由于多态性而增加的灵活性：根据场景的不同，对象可以根据场景采取多种形式。该程序将识别每次执行该对象所需的含义或用法，这减少了重复代码的需要。
- 通过封装减少数据损坏：每个对象的实现和状态在定义的类或边界内被私有地保存。其他对象不能访问该类，也没有权限进行更改。它们只能调用一组方法或公共函数。因此，封装可以帮助开发人员执行数据隐藏，从而提高程序安全性，并防止意外的数据损坏。
- 有效解决问题：面向对象编程将复杂问题分解为可解决的块。对于每个小问题，开发人员编写一个类来完成他们需要的功能。

最终，使用面向对象编程(OOP)提供了改进的数据结构和可靠性，同时从长远来看节省了时间。

#### （5）静态类型

除了帮助开发人员捕获bug之外，静态类型还为代码提供了更多的结构，并确保它是自文档化的代码。这是因为信息的类型使人们更容易理解类、函数和其他结构的工作方式。重构代码或消除**技术债务**也变得更加容易。

此外，静态类型与自动补全工具无缝集成，确保它们更加可靠和准确。这样，开发人员可以更快地编写代码。在大多数情况下，静态类型的代码对人类或机器人来说更容易阅读。

## Tailwind CSS？

如前所述，Tailwind是一个功能强大且非常有趣的CSS框架，让我们来看看它带来的一些好处。

1、提升开发速度和效率

通过使用其广泛的实用类集合，您可以快速开发和构建用户界面，避免从头开始创建自定义CSS的需要。通过这样做，您可以专注于应用程序的基本功能和独特特性，同时节省时间。

2、高度可定制的方法

Tailwind CSS 提供了一个配置文件，使程序员能够自定义框架的多个方面。这包括指定独特的字体、断点和其他元素，以满足项目的独特设计要求。另一方面，Tailwind CSS 简化了网站主题的设置，使设计师能够产生多种视觉变化。他们可以通过配置文件指定不同的颜色方案、字体和其他样式属性。在处理具有不同品牌变体的项目或根据不同客户要求定制设计时，这种主题选项非常有用。

3、响应式设计轻松实现

该框架包含一系列专为响应式布局设计的实用类。使用这些类，您可以轻松开发适应不同屏幕尺寸和设备的界面。这消除了您编写复杂媒体查询的需求，并使您能够在各种设备上提供出色的用户体验。

4、提升代码可维护性

Tailwind CSS 提供了一种模块化和可重用的样式方法。您可以通过实用类轻松更新和调整样式，而不必担心传统 CSS 中常见的级联效应。这种模块化不仅提高了代码的可维护性，还增强了开发团队之间的协作。开发人员可以分别处理不同的组件，而不会出现样式冲突的风险，从而实现更高效和简化的开发流程。

## Shadcn

UI风格一致，与视觉达成共识，建立流程规范。编写视觉规范，开发组件并进行验收。

增强可复用性，组件的分层开发思想：抽取共同点，开发简单组价。组合加强，开发复杂组件。

单个组件的开发原则：单一职责，对外接口一致

简洁易上手，减少理解成本，文档完善，示例详尽，命名规范，减少使用成本，引入简单，配置简单

# AI功能

## 处理功能哪里调用的(滴滴)

使用Cloudinary提供的AI服务进行图片处理。

# 图片

## 图片的上传是怎么做的呀？它会给你一个SDK/插件/库 吗？（滴滴）

图片上传使用HTML5 File API和Cloudinary的Upload API。Cloudinary提供了一套完整的SDK/库进行图片的处理和上传。

## 移除背景功能/制作证件照需要给它什么参数吗？（滴滴）

具体参数需参考API文档，但是一般需要提供的是图片、规定的尺寸和其他一些可能的参数。

## 移除背景功能，你是直接给它一个图片，一个图片的链接吗？

# 登录

## 网站的登录是自己做的吧？怎么做的？用第三方？那你了解这个登录功能是怎么实现的吗？具体的原理（滴滴）

借助Clerk进行用户身份认证，支持Google和Github的第三方登录方式。

## 你了解它是怎么鉴权的吗？你这个token前端是存在哪里的？你前端是怎么保持这个登录状态的？我把网站关了重新打开，怎么保持的？那你知道cookie是怎么存的吗？（滴滴）

## token存在哪里？

token存在浏览器的cookie或localStorage中，这对于保持用户会话非常有用。

## 登录状态怎么保持的？如何实现关闭浏览器，重新打开后，继续保持登录状态？

通过在前端和后端都存储token，前端存储在localStorage或cookie中。当用户打开新浏览器或者新标签页时，可以通过查看这个token来判断用户是否还在登录状态。

## cookie是怎么存的？

使用document.cookie在浏览器中存储cookie，同时设置cookie的过期时间，保证在用户关闭浏览器后cookie不会立即过期。

# 后端

## 前后端都是你一个人做的吗？（滴滴）

是的，我负责了前后端的所有工作。

## 你后端用的什么？用Node写的吗？用的云服务？不需要开发代码是吗？（滴滴）

## 后端怎么做的？用Node写的吗？

后端使用了MongoDB作为数据库，使用Clerk进行用户身份验证，使用Stripe进行支付处理，并且使用Cloudinary进行图片处理。对于serverless函数的部署，我们使用了Vercel进行部署，这对于Node.js和Next.js有很好的支持。

# SEO

## 这是一个toc的项目，那你是怎么去设置它的SEO的啊？那你的网站有做其他SEO的优化吗？（滴滴）

# （项目难点重点）Toc项目的用户量SEO+用户体验优化CDN

## SEO

### 0 Next.js内置SEO优化

Next.js提供了内置的SEO优化工具，例如HEAD标签的SEO优化，我对此进行了充分利用。

### 1. TKD设置

页面TKD要包含品牌词及业务词，提升页面排名

例如：掘金的 TKD

Title：掘金 - 代码不止，掘金不停

Keywords：掘金,稀土,Vue.js,前端面试题,nginx配置,Kotlin,RxJava,React Native,敏捷开发,Python

Description：掘金是一个帮助开发者成长的社区,是给开发者用的 `Hacker News`,给设计师用的 `Designer News`,和给产品经理用的 `Medium`。掘金的技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货,其中包括：`Android、iOS`、前端、后端等方面的内容。用户每天都可以在这里找到技术世界的头条内容。与此同时,掘金内还有沸点、掘金翻译计划、线下活动、专栏文章等内容。即使你是 `GitHub、StackOverflow、`开源中国的用户,我们相信你也可以在这里有所收获。

![image.png](D:/%E6%96%87%E4%BB%B6/typora%E5%9B%BE%E7%89%87/f39d343bacae431681d18fd5dc58d217tplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp)

### 2. 页面内容优化

（1）网页代码语义化调整：多使用语义话标签，便于爬虫检索。

（2）页面内容关键词强化：在页面大小标题和文案中重复关键词，以达到内容强化目的；关键词汇避免使用图片，便于**爬虫检索，收录**。

（3）**img 添加 alt 属性，用 h1 标签去写内容关键字**

### 3. 引导链接

网站底部推荐部分保留产品介绍、常见问题汇总等降低跳出率的引导，**提高页面留存与转化**；或者与所推荐页面形成**互链形式，以稳定页面流量权重**。

### 4. 移动端优化

设置移动页面，或将pc页面设置为自适应，增加移动端搜索的体验和留存转化。

移动页面设计需注意以下规则：

（1）页面字体、字符大小、文本行间距等设计，应适合手机用户阅读，不可明显过大过小，正文文本字号不小于10pt。

（2）首屏主体内容必须占屏幕的50%以上。

（3）主体内容应与其他板块有明显区分，且位于屏幕的中心位置，使用户获取信息时不受任何干扰。

（4）导航的功能与位置明确，避免用户使用过程中被误导。

（5）除以上提到的内容外，网站还应避免其他影响页面内容辨识的情况，例如页面出现大面积空白、文本无任何排版、段落/图片排版错乱不整齐、主体内容展示不全等。

### 5. 站外优化

（1）在搜素引擎排名较高的公众平台（百家号 ，知道，贴吧、搜狐、知乎等）发布正面网站信息，以建设良好口碑 ；负面信息排名较高的需删除或者屏蔽处理。

（2）百度，互动，搜狗等百科的创建更新与维护，(互动百科在今日头条有着较高的排名，现在今日头条也在发展搜素引擎)，百科对树立品牌形象较为重要。

（3）公关舆情传播，宣传新闻源发布。

（4）站外推广与外链建设。

根据竞争对手及品牌业务分析，拓展高质量、高权重的外链渠道、科技论坛、自媒体平台、分类信息网等，发布高质量锚文本外链，另进行友情链接交换，以提高关键词排名及自然流量。

## CDN

文件通过内容传送网络（CDN）传送，这将有大大有益于网页加载，降低其加载速度。 通过CDN，Cloudinary也可以在中国传送内容，这对于想要在中国市场立足的公司来说绝对是必须的。 可扩展的API和Webhooks可以改善与应用程序的集成，这些应用程序包括但不限于内容管理系统（CMS）或产品信息管理（PIM）系统等。

创建和管理各种格式和解决方案的多张图片，以及实施部署逻辑是一项非常具有挑战性的工作。Cloudinary可优化并简化图片管理。Cloudinary 插件支持上传、保存、管理、编辑和创建各种版本的图片。为了让这一切变得更加简单直接，W4开发人员增强了Cloudinary插件的功能，以确保移动优化（响应性）：使用W4的Cloudinary解决方案，图片将始终在各种尺寸的屏幕上完美显示，网站的加载速度也将大幅提升。

