## 布局

### 32.1 flex 布局

#### 32.1.1 CSS中的 "flex:1;" 是什么意思？

flex 是 flex-grow, flex-shrink 和 flex-basis的简写。

除了auto (1 1 auto) 和 none (0 0 auto)这两个快捷值外，还有以下设置方式：

- 当 flex 取值为一个非负数字，则该数字为 flex-grow 值，flex-shrink 取 1，flex-basis 取 0%，如下是等同的：

  ```css
  .item {flex: 1;}
  .item {
      flex-grow: 1;
      flex-shrink: 1;
      flex-basis: 0%;
  }
  ```

- 当 flex 取值为 0 时，对应的三个值分别为 0 1 0%

  ```css
  .item {flex: 0;}
  .item {
      flex-grow: 0;
      flex-shrink: 1;
      flex-basis: 0%;
  }
  ```

更多写法可前往 [MDN-flex](https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FCSS%2FCSS_Flexible_Box_Layout%2FBasic_Concepts_of_Flexbox) 查看

### 32.2 两栏布局

所谓的左右两栏布局，就是`左侧宽度固定，右侧宽度自适应`，下面给大家讲讲实现经典的左右两栏布局，可以有以下这7个方法。

页面上的 DOM 结构如下：

```html
<div class="container">
  <div class="left">我是侧边栏</div>
  <div class="right">我是内容区域</div>
</div>
```

**方法1：使用 flex 布局（最常用）**

**实现思路：** 左边元素设置固定宽度，右边元素设置CSS属性 `flex: 1`。

```css
.container {
  display: flex;
  width: 100%;
  height: 500px;
}
.left {
  width: 240px;
  height: 100%;
  background-color: lightskyblue;
}
.right {
  flex: 1;
  height: 100%;
  background-color: red;
}
```

**方法2：使用 浮动**

**实现思路：** 左边元素设置固定宽度，并设置CSS属性 `float: left`，右边元素设置CSS属性 `margin-left`，其值等于左边元素的宽度。

```css
.container {
  width: 100%;
  height: 500px;
}
.left {
  float: left;
  width: 240px;
  height: 100%;
  background-color: lightskyblue;
}
.right {
  margin-left: 240px;
  height: 100%;
  background-color: red;
}
```

**方法3：同样使用 浮动**

**实现思路：** 左边元素设置固定宽度，并设置CSS属性 `float: left`，右边元素设置CSS属性 `overflow: auto`，此时右边就会触发了 `BFC`，`BFC` 的区域不会与设置浮动的元素发生重叠，所以两侧就不会发生重叠。

```css
.container {
  width: 100%;
  height: 100vh;
}
.left {
  float: left;
  width: 240px;
  height: 100%;
  background-color: lightskyblue;
}
.right {
  height: 100%;
  overflow: auto;
  background-color: red;
}
```

**方法4：使用 相对/绝对定位**

**实现思路：** 父级元素设置 `position: relative`，左边元素设置固定宽度，并设置CSS属性 `position: absolute`，右边元素设置CSS属性 `margin-left`，其值等于左边元素的宽度。

```css
.container {
  height: 500px;
  position: relative;
}
.left {
  width: 240px;
  height: 100%;
  position: absolute;
  background-color: lightskyblue;
}
.right {
  height: 100%;
  margin-left: 240px;
  background-color: red;
}
```

**注意：**

- absolute 会让元素脱离文档流，right 会直接将内容顶上去，所以我们需要设置 margin-left，其值等于左边元素的宽度。
- div 的宽度默认是 100%，但是当设置了 absolute 之后，宽度不再是 100%，而是由内容的宽度决定的。 **解决方法：**
- 可以直接设置 width: 100%。
- 也可以设置 left: 0; right: 0。

**方法5：同样使用 相对/绝对定位**

**实现思路：** 父级元素设置CSS属性 `position: relative`，左边元素设置固定宽度，右边元素设置CSS属性 `position: absolute`，并设置 `left、right、top、bottom` 属性的值，其中 `left` 的值等于左边元素的宽度。

```css
.container {
  height: 500px;
  position: relative;
}
.left {
  width: 240px;
  height: 100%;
  background-color: lightskyblue;
}
.right {
  height: 100%;
  position: absolute;
  left: 240px;
  right: 0;
  top: 0;
  bottom: 0;
  background-color: red;
}
```

**方法6：使用表格布局 table**

**实现思路：** 父级元素设置CSS属性 `display: table`，并设置宽度 100%；左边元素设置CSS属性 `display: table-cell`，并设置固定宽度；右边元素设置CSS属性 `table-cell` 即可。

```css
.container {
  display: table;
  width: 100%;
  height: 500px;
}
.left {
  display: table-cell;
  width: 240px;
  height: 100%;
  background-color: lightskyblue;
}
.right {
  display: table-cell;
  height: 100%;
  background-color: red;
}
```

**方法7：使用 calc 函数**

**实现思路：** 左边元素设置CSS属性 `float: left`，并设置固定宽度；右边元素设置CSS属性 `float: left` 并设置宽度 `width`，其值等于 `calc(100% - 左侧元素的宽度)`。

```css
.container {
  width: 100%;
  height: 500px;
}
.left {
  float: left;
  width: 240px;
  height: 100%;
  background-color: lightskyblue;
}
.right {
  float: left;
  width: calc(100% - 240px);
  height: 100%;
  background-color: red;
}
```

这7个方法的效果图都如下所示。

![image.png](D:/%E6%96%87%E4%BB%B6/typora%E5%9B%BE%E7%89%87/f58ea511a7104bb0b782eb3fc0ca8bc2tplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp)

学会了两栏布局，再去写三栏布局的 CSS，没什么太大的问题！

### 32.3 三栏布局

**需求**：实现左右两栏固定宽度，中间一栏自适应宽度。

以下是总结的**7 种方法**可以实现这个需求。

** 浮动 float + calc()**

**核心思想**：先使用浮动将三栏水平排列，然后对中间栏使用`calc()`函数来计算去除左右两栏固定宽度后剩余的宽度。

**HTML 结构**：

```html
<div class="container">
  <div class="left">左边</div>
  <div class="middle">中间</div>
  <div class="right">右边</div>
</div>
```

**CSS 样式**：

```css
div {
  height: 100px;
}
.left {
  float: left;
  width: 200px;
  background-color: red;
}
.middle {
  float: left;
  width: calc(100% - 400px);
  background-color: green;
}
.right {
  float: right;
  width: 200px;
  background-color: blue;
}
```

** 浮动 float + margin 负值**

**核心思想**：利用浮动的方式，为左右两栏设置对应方向的浮动。中间一栏设置左右两个方向的`margin`负值。注意这种方式，中间一栏必须放到最后。

```html
<div class="container">
  <div class="left">左边</div>
  <div class="right">右边</div>
  <div class="middle">中间</div>
</div>
```

**CSS 样式**：

```css
div {
  height: 100px;
}
.left {
  float: left;
  width: 200px;
  background-color: red;
}
.right {
  float: right;
  width: 200px;
  background-color: blue;
}
.middle {
  margin-left: 200px;
  margin-right: 200px;
  background-color: green;
}
```

** 圣杯布局**

**核心思想**：利用**浮动**，**外边距负值**和**相对定位**来实现。

- 父级元素设置左右的`padding`，三列均设置向左浮动；
- 中间一列放在最前面，宽度设置为父级元素的宽度，因此后面两列都被挤到了下一行；
- 再通过设置`margin`负值将其移动到上一行；
- 再利用相对定位，定位到两边。

**注意**：圣杯布局中间列的宽度不能小于两边任意列的宽度，而双飞翼布局则不存在这个问题。

**HTML 结构**：

```html
<div class="container">
  <div class="middle">中间</div>
  <div class="left">左边</div>
  <div class="right">右边</div>
</div>
```

**CSS 样式**：

```css
.container {
  height: 100px;
  padding: 0 200px 0 200px;
  overflow: hidden;
}
.middle,
.left,
.right {
  float: left;
  height: 100%;
}
.middle {
  width: 100%;
  background: green;
}
.left {
  position: relative;
  width: 200px;
  margin-left: -100%;
  left: -200px;
  background: red;
}
.right {
  position: relative;
  width: 200px;
  margin-right: -200px;
  background: blue;
}
```

** 双飞翼布局**

**核心思想**：**浮动 + 外边距负值**

双飞翼布局相对于圣杯布局来说，左右位置的保留是通过中间列的`margin`值来实现的，而不是通过父元素的`padding`来实现的。

**HTML 结构**

```html
<div class="container">
  <div class="middle">
    <div class="inner">中间</div>
  </div>
  <div class="left">左边</div>
  <div class="right">右边</div>
</div>
```

**CSS 样式**

```css
.container {
  height: 100px;
  overflow: hidden;
}
.middle,
.left,
.right {
  float: left;
  height: 100%;
}
.middle {
  width: 100%;
  background-color: green;
}
.inner {
  height: 100%;
  margin: 0 200px 0 200px;
}
.left {
  width: 200px;
  margin-left: -100%;
  background-color: red;
}
.right {
  width: 200px;
  margin-left: -200px;
  background-color: blue;
}
```

** 定位 position**

**核心思想**：利用**绝对定位**的方式。

**好处**：这种实现方式的三栏`HTML`结构可以任意摆放，不用考虑先后次序。

**HTML 结构**

```html
<div class="container">
  <div class="left">左边</div>
  <div class="right">右边</div>
  <div class="middle">中间</div>
</div>
```

**CSS 样式**

```css
.container {
  position: relative;
}
.left {
  position: absolute;
  left: 0;
  width: 200px;
  background-color: red;
}
.middle {
  position: absolute;
  left: 200px;
  right: 200px;
  background-color: green;
}
.right {
  position: absolute;
  right: 0;
  width: 200px;
  background-color: blue;
}
```

**6. 弹性布局 flex**

**核心思想**：利用`flex`布局的方式，左右两栏设置固定宽度，中间一栏设置为`flex: 1;`

**好处**：这种实现方式代码非常简洁。

**HTML 结构**

```html
<div class="container">
  <div class="left">左边</div>
  <div class="middle">中间</div>
  <div class="right">右边</div>
</div>
```

**CSS 样式**

```css
div {
  height: 100px;
}
.container {
  display: flex;
}
.left {
  width: 200px;
  background: red;
}
.middle {
  flex: 1;
  background: green;
}
.right {
  background: blue;
  width: 200px;
}
```

** 网格布局 grid**

**核心思想**：利用`grid`布局的方式，左右两栏设置固定宽度，中间一栏设置为`auto`。

**好处**：这种实现方式代码也非常简洁。

**HTML 结构**

```html
<div class="container">
  <div class="left">左边</div>
  <div class="middle">中间</div>
  <div class="right">右边</div>
</div>
```

**CSS 样式**

```css
div {
  height: 100px;
}
.container {
  display: grid;
  /* 核心代码：左右两栏固定宽度，中间自适应宽度 */
  grid-template-columns: 200px auto 200px;
}
.left {
  background: red;
}
.middle {
  background: green;
}
.right {
  background: blue;
}
```

### 32.4 grid布局

### 32.5 flex布局

> 说一下flex布局和它相关的属性
>
> flex的兼容性问题
>
> flex布局，有哪些属性，可以用来干嘛
>
> flex：0 1 auto 分别代表什么
>
> flex：1 意思，解释一下
>
> 子元素可以设置的flex相关属性有哪些

### 32.6 三个元素，左右要固定，中间一个占据剩余全部，且界面能自适应。说出你能想到的所有方法