## 无状态组件

有状态组件： 是一个class类，继承componet  （用于需要一些状态去存储和修改数据）

无状态组件： 是一个es6写的箭头函数函数，并不继承 componet（用于一些简单的逻辑，比如，父组件向子组件传属性值）

​     （1） 最大的区别是无状态组件，无法使用state，因为state是继承 componet

​     （2）无状态组件，没有生命周期函数，生命周期函数是基于state的

​		通常，函数（`function`）与类（`class`）最大的区别是：是否能够维护自己的数据（即状态）。函数基本上仅关注动作（`action`），而不关心数据的维护，不用维持一个状态，不用把自己的数据保存在内存中。函数使用的数据是从外部获取（或者不获取数据），函数运行时，会完成一系列的动作，最后将结果返回（也可能不返回，仅仅是完成指定的动作）。相对而言，类有能力维护状态（保存数据），也可以定义自己的一系列动作。

​		一般来说，函数的速度较快，适合用于做表现层，而类能够处理复杂逻辑和状态，适合做逻辑层和数据层。所以，对于 `React` 来说，一般选择函数来无状态组件，得到所谓的无状态函数（`stateless function`），好处是渲染的速度快，所以多使用无状态组件，尽量不要让数据散落在各个组件中。数据集中管理可以更好的保持数据的一致性和可维护性。

​		有状态组件就是使用类来生成。类可以有自己的状态，维护自己的数据，也是完全符合有状态组件的要求。但是类相对来说速度比函数慢，影响渲染的性能，同时数据过于分散会给后期的维护带来比较大的困难（这也是为什么状态过多时要使用 `Redux` 的原因），因此要尽量控制有状态组件的数量。当然，类也可以生成无状态组件，但是既然不需要维护状态的工作，用函数能完成得更好，其实也就没有必要使用类来做无状态组件。

**在无状态组件每一次函数上下文执行的时候，react用什么方式记录了hooks的状态？**

​		React 使用了一个叫做 "Fiber" 的数据结构来跟踪组件的状态和其它信息。每个函数组件都有一个与之相关的 Fiber，它的 hooks 是按照声明顺序存储在一个数组中。在组件的不同渲染阶段，React 会利用这个 Fiber 和 hooks 数组来追踪和更新每个 hook 的状态。