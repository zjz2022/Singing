

## key（3.13滴滴一面）

### 5.1 v-for为什么要有key

v-for 在使用时建议加上key属性，因为key是 Vue 用于跟踪每个节点的唯一标识，通过这个key，Vue 能够更精确地渲染出每个节点的改动以及顺序。更具体来说，它可以增强 Vue 的渲染过程，优化虚拟DOM的重新渲染，提高性能。

对于数组元素或对象的变化，Vue 的 diff 算法使用了一种称为就地复用（in-place patch）的策略。如果数据顺序发生了改变，Vue 将不是移动 DOM 元素来匹配数据项的顺序，而是直接复用此处的元素，并确保它在特定索引下显示已被渲染的每个元素。

key的作用就是用来在这个过程中，跟踪每个节点的身份，从而重用和重新排序现有元素。当状态变更，而与数据减少的元素或顺序无关时，Vue 的整个更新过程将变得更加高效。

此外，在使用组件时，如果v-for没有给每个子组件绑定唯一key，那么在插入或删除时，由于 Vue 的就地复用策略，可能导致组件状态错误。所以在使用v-for时，为每个节点绑定唯一的key是一个很好的习惯。

### 5.2 vue中为什么不能用index作为key值

### 5.3 Vue中key的作用，如果不写会报错吗？