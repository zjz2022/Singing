https://solutionshub.epam.com/blog/post/what-is-server-side-rendering

## 服务器端渲染的定义

服务器端渲染（SSR）是一种在服务器上而不是在浏览器中渲染网页的技术。当网站的 JavaScript 在网站的服务器上呈现时，完整呈现的页面将发送到客户端，并且客户端的 JavaScript 包接合并使单页应用程序框架能够运行。

## 什么是服务器端渲染？

服务器端渲染顾名思义：在服务器上渲染。执行此操作时，您将创建一个包含网站所有内容的 HTML 文件并将其发送回用户。然后，用户将获得一个完全呈现的 HTML 页面，其中包含他们查看您的网站所需的所有信息，而无需等待任何 JavaScript 或 CSS 文件加载。这意味着访问您网站的用户将能够比在等待 JavaScript 文件加载时仅查看空白屏幕更快地看到所有内容。

![服务端渲染示例](D:/%E6%96%87%E4%BB%B6/typora%E5%9B%BE%E7%89%87/server_side_rendering.jpeg)

服务器端渲染的工作原理

如果做得好，SSR 可以极大地提高性能，因为它使您能够在内容发送到客户端之前渲染内容。它还可以通过比在页面加载后发送页面内容更早的时间发送页面内容来减少页面加载时间并提高 SEO。

服务器端渲染用于许多流行的 JavaScript 框架，包括 Angular 和 React。还有其他框架，例如 Preact，其目标是成为 React 的轻量级替代品。

一般来说，使用服务器端渲染的网站包括 Facebook 和 Twitter 等社交媒体网站，以及沃尔玛和亚马逊等电子商务网站。

## 服务器端渲染的好处

服务器端渲染的一些优点包括：

- **更快的加载时间。** 当用户遇到互联网连接速度慢时，服务器端呈现的应用程序可以加快页面加载速度。从而极大地改善了整个用户体验。
- **搜索引擎轻松索引。** 由于服务器端渲染时可以在页面加载之前渲染内容，因此搜索引擎可以轻松索引和抓取它。
- **社交媒体索引的问题较少。** 社交媒体爬虫与搜索引擎机器人一样，很难对 JavaScript 内容建立索引。例如，Facebook 的开放图谱协议或 Twitter 卡不支持客户端渲染。如果社交媒体共享是您营销策略的重要组成部分，那么服务器端渲染可能是更好的选择。
- **在可访问性方面更好。** SSR 应用程序更适合使用 CPU 性能较低的旧设备的用户，因为服务器会将预渲染的内容发送到浏览器。由于屏幕阅读器等辅助技术无法始终解析客户端 JavaScript，因此经常建议使用服务器端渲染来实现 SPA 可访问性。因此，服务器端渲染有助于为互联网连接速度慢或设备过时的用户高效加载网页。

## 服务器端的潜在缺点

服务器端渲染似乎是一个简单的概念；然而，它的复杂性随着应用程序的复杂性而增加。

以下是服务器端渲染的一些缺点：

- **开支增加。** 为了部署 SSR 应用程序，您需要购买服务器，或者至少购买“无服务器”后端，这意味着更高的运行成本。尽管服务器端渲染并不是 JavaScript 网站的默认渲染方式，但它可能成本高昂且占用大量资源，并且服务器承担了为用户和机器人渲染内容的全部负担。
- **可能会导致页面渲染速度变慢。** 服务器端渲染非常适合静态 HTML 站点生成，但在更复杂的应用程序中，频繁的服务器请求和整页重新加载可能会导致整体页面渲染速度变慢。
- **兼容性问题。** 许多第三方库和工具与服务器端渲染不兼容。
- **尺寸较大的 HTML。** 由于嵌入的水合状态，SSR 应用程序具有较大的 HTML 大小。这并不是反对 SSR，而是如果实施不正确，应将其视为潜在风险。

## 服务器端渲染框架和工具

服务器端渲染框架是帮助在服务器上渲染网页的过程的工具。客户端渲染由浏览器或 JavaScript 库完成，而服务器端渲染由服务器完成。

目前有许多框架可用于这些任务，但一些最流行的框架包括：

1. **Vue.js** – 它是一个用于构建用户界面的开源 JavaScript 框架，可以与其他框架结合使用，为开发 Web 应用程序提供完整的堆栈解决方案。
2. **React.js** – 一个 JavaScript 库，可让您创建可重用的 UI 组件，并轻松地将它们与 Flux 或 Redux 组合，以使用函数式编程概念构建具有高可扩展性的大型应用程序。
3. **Ember.js** – 一个用 JavaScript 构建 Web 应用程序的完整框架，它使用约定优于配置，并为路由和模板等常见问题提供默认解决方案。
4. **Angular** - 拥有名为 Angular Universal 的服务器端渲染工具。

处理服务器端 JavaScript 需要使用 Node.js。基于 js 的后端 JavaScript 框架，例如 Express.js 或 Hapi。这些后端框架处理网络请求、在服务器上渲染组件并将预渲染的 HTML 返回到浏览器。它们可以与任何前端 JavaScript 框架结合使用。

## 服务器端渲染与客户端渲染

服务器端渲染 (SSR) 和客户端渲染 (CSR) 是描述网页如何渲染的两个术语。它们用于指加载页面并将其显示在计算机或移动设备上的过程。一般来说，SSR 意味着页面正在服务器上呈现，而 CSR 意味着页面正在您的计算机上呈现。当您构建网站时，您必须决定是使用服务器端渲染还是客户端渲染。

- **服务器端渲染（SSR）**意味着网站的内容在服务器上生成，然后发送到浏览器。这对于 SEO 很有用，因为搜索引擎可以在将网站内容发送给用户之前“查看”您网站的内容。然而，使用 SSR，用户需要等待浏览器加载才能在屏幕上看到任何内容，而在缓慢的连接或昂贵的数据计划中，这可能会让事情感觉很慢。
- **客户端渲染 (CSR)**意味着当页面在浏览器中加载时，它最初没有太多内容 - 只是一个附加了一些 CSS 样式信息的 HTML 骨架。加载后（通常只需几秒钟），页面的其余内容就会从服务器发送并呈现到初始 HTML 框架中，这样当用户进一步向下滚动到您的网站时，他们就不会看到不再有任何空白。这使得在较慢的连接上读取速度更快，而数据成本可能不像现在那么高。

## 总结：服务器端渲染更好吗？

SSR 通常更适合 SEO，因为搜索引擎可以在页面加载到浏览器之前对其进行索引。这有助于提高网站的整体抓取速度和排名。它还使搜索引擎更容易查看每个页面上有哪些内容，这有助于内容发现和参与度指标，例如跳出率或网站停留时间。此外，SSR 对于具有动态内容（例如博客）或想要隐藏某些元素直到它们向下滚动到文章折叠下方（例如图片库）的网站非常有用。

客户端渲染通常更适合用户体验，因为它加载速度更快，并且在它们向下滚动到文章折叠下方之前不需要服务器提供额外的资源。

SSR 和 CSR 都有其优点和缺点 - 决定哪种方法最适合您的项目将取决于您的应用程序需要什么样的功能。
