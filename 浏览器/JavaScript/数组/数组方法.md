### 2.8 数组方法

#### 2.8.0 方法汇总

JavaScript中的数组(Array)是一种特殊的对象，它提供了大量的方法来处理数据。以下是一些常用的数组方法：

1. push()：在数组的末尾添加一个或多个新元素，并返回新长度。

   ```js
   let arr = [1, 2, 3];
   arr.push(4);
   console.log(arr); // [1, 2, 3, 4]
   
   ```

2. pop()：删除数组的最后一个元素并返回该元素。

   ```js
   let arr = [1, 2, 3];
   let lastElement = arr.pop();
   console.log(arr); // [1, 2]
   console.log(lastElement); // 3
   
   ```

3. unshift()：在数组的开头添加一个或多个新元素，并返回新长度。

   ```js
   let arr = [1, 2, 3];
   arr.unshift(0);
   console.log(arr); // [0, 1, 2, 3]
   
   ```

4. shift()：删除数组的第一个元素并返回该元素。

   ```js
   let arr = [1, 2, 3];
   let firstElement = arr.shift();
   console.log(arr); // [2, 3]
   console.log(firstElement); // 1
   
   ```

5. concat()：连接两个或更多的数组，并返回结果。

   ```js
   let arr1 = [1, 2, 3];
   let arr2 = [4, 5, 6];
   let concatArr = arr1.concat(arr2);
   console.log(concatArr); // [1, 2, 3, 4, 5, 6]
   
   ```

6. slice()：从数组中返回选定的元素（创建一个新数组，包含原数组中的一段元素）。

   ```js
   let arr = [1, 2, 3, 4, 5, 6];
   let sliceArr = arr.slice(1,4);
   console.log(sliceArr); // [2, 3, 4]
   
   ```

7. splice()：在数组中添加/删除项目，然后返回被删除的项目。

   ```js
   let arr = [1, 2, 3, 4, 5, 6];
   let removedElem = arr.splice(1,2);
   console.log(arr); // [1, 4, 5, 6]
   console.log(removedElem); // [2, 3]
   
   ```

8. join()：将数组的所有元素转换为字符串并连接起来。

   ```js
   let arr = ['Hello', 'World'];
   let str = arr.join(' ');
   console.log(str); // 'Hello World'
   
   ```

9. reverse()：颠倒数组中元素的顺序。

   ```js
   let arr = [1, 2, 3, 4, 5, 6];
   arr.reverse();
   console.log(arr); // [6, 5, 4, 3, 2, 1]
   
   ```

10. sort()：对数组的元素进行排序。

    ```js
    let arr = ['apple', 'Banana', 'kiwi', 'Mango'];
    arr.sort();
    console.log(arr); // ['Banana', 'Mango', 'apple', 'kiwi']
    
    ```

11. indexOf()：返回在数组中可以找到给定元素的第一个索引，如果不存在，则返回-1。

    ```js
    let arr = [1, 2, 3, 2, 1];
    console.log(arr.indexOf(2)); // 1
    
    ```

12. lastIndexOf()：返回在数组中可以找到给定元素的最后一个索引，如果不存在，则返回-1。

    ```js
    let arr = [1, 2, 3, 2, 1];
    console.log(arr.lastIndexOf(2)); // 3
    
    ```

13. forEach()：将为数组中的每个元素执行提供的函数。

    ```js
    let arr = [1, 2, 3];
    arr.forEach((element) => console.log(element));
    // 输出：1
    //      2
    //      3
    
    ```

14. map()：创建一个新的数组，其结果是该数组中的每个元素都调用一个提供的函数。

    ```js
    let arr = [1, 2, 3];
    let newArr = arr.map((num) => num * 2);
    console.log(newArr); // [2, 4, 6]
    
    ```

15. filter()：创建一个新数组，新数组中的元素是通过检查指定的条件生成的。

    ```js
    let arr = [1, 2, 3, 4];
    let newArr = arr.filter(num => num >= 3);
    console.log(newArr); // [3, 4]
    
    ```

16. reduce()：接收一个函数作为累加器（accumulator），数组中的每个值（从左到右）开始合计，最终为一个值。

    ```js
    let arr = [1, 2, 3, 4];
    let sum = arr.reduce((a, b) => a + b, 0);
    console.log(sum); // 10
    
    ```

17. find()：返回通过测试（函数内判断）的数组的第一个元素的值。

    ```js
    let arr = [1, 2, 3, 4];
    let found = arr.find(element => element > 2);
    console.log(found); // 3
    
    ```

18. findIndex()：返回通过测试（函数内判断）的数组的第一个元素的索引。

    ```js
    let arr = [1, 2, 3, 4];
    let index = arr.findIndex(element => element > 2);
    console.log(index); // 2
    
    ```

19. some()：检查数组中的元素是否满足提供的函数。如果有一个元素满足条件，则表达式返回true，否则返回false。

    ```js
    let arr = [1, 2, 3, 4];
    let check = arr.some(element => element > 2);
    console.log(check); // true
    
    ```

20. every()：检查数组的所有元素是否都满足提供的函数。如果数组中每个元素都满足条件，则表达式返回true，否则返回false。

    ```js
    let arr = [1, 2, 3, 4];
    let check = arr.every(element => element > 0);
    console.log(check); // true
    
    ```

21. includes()：判断一个数组是否包含一个指定的值，根据情况，如果需要，返回 true 或 false。

    ```js
    let arr = [1, 2, 3, 4];
    console.log(arr.includes(2)); // true
    console.log(arr.includes(5)); // false
    
    ```

    

22. flat()：用于将嵌套的数组“拉平”，变成一维的数组。该方法返回一个新数组，对原数据没有影响。

```js
let arr1 = [1, 2, [3, 4]];
arr1.flat(); 
// [1, 2, 3, 4]
```




23. flatMap()：首先使用映射函数映射每个元素，然后将结果压缩成一个新数组。它主要用于一对多的情况。

```js
let arr = ["it's Sunny in", "", "California"];
arr.flatMap(x => x.split(' '));
// ["it's","Sunny","in", "", "California"]
```




24. entries()：返回一个数组迭代对象，该对象包含数组的键值对 (key/value)。

```js
let arr = ['a', 'b', 'c'];
let eArr = arr.entries();

console.log(eArr.next().value); // [0, 'a']
console.log(eArr.next().value); // [1, 'b']
```




25. keys()：返回一个新的Array Iterator对象，该对象包含数组中每个索引的键。

```js
let arr = ["a", "b", "c"];
let iterator = arr.keys();

for (let key of iterator) {
  console.log(key); // output: 0 1 2
}
```




26. values()：返回一个新的 Array Iterator 对象，包含数组每个索引的值。

```js
const arr = ['a', 'b', 'c'];
const iterator = arr.values();

for (const value of iterator) {
  console.log(value); // "a" "b" "c"
}
```




27. from()：根据已有的数组创建一个新数组。

```js
console.log(Array.from('Hello')); // expected output: Array ["H", "e", "l", "l", "o"]
```




28. isArray()：用来判断一个变量是否是数组。

```js
Array.isArray([1, 2, 3]);  // true
Array.isArray({foo: 123}); // false
Array.isArray('Hello');    // false
```



这些都是JavaScript数组的常见方法，要提高代码的效率和可读性，需要熟练掌握这些方法。

#### 2.8.2 哪些方法有副作用，哪些会改变原数组

#### 2.8.3 map

1）map方法会改变原数组吗

2）实现一个map方法，并解释代码，解释传参

#### 2.8.4 push

.push() 是一个JavaScript数组中非常常用的方法。该方法用于将一个或多个元素添加到数组的尾部，并返回新的数组的长度。这意味着原始数组将被改变。

这是一个简单的使用 .push() 方法的例子：

```javascript
let array = [1, 2, 3];
array.push(4);
console.log(array);
// 输出：[1, 2, 3, 4]
```

在上述代码中，我们将元素 4 添加到了 array 的尾部，所以输出结果为 [1, 2, 3, 4]。

.push() 方法可以接受多个参数，也可以一次性添加多个元素：

```javascript
let array = [1, 2, 3];
array.push(4, 5, 6);
console.log(array);
// 输出：[1, 2, 3, 4, 5, 6]
```

.push() 方法也会返回新的数组长度：

```javascript
let array = [1, 2, 3];
let length = array.push(4);
console.log(length);
// 输出：4
```

这是因为在添加新元素后，数组的长度发生了改变，所以.push() 方法会返回一个新的值，即新的数组长度。

#### 2.8.5 sort

这是一个数组方法，它会根据字母顺序对数组中的元素进行排序。比如 `['b', 'c', 'a']` 会被排序为 `['a', 'b', 'c']`。

#### 2.8.6 toString()

这是一个数组方法，它会将数组转化为一个字符串。在这儿，它将排序后的字符数组转化为一个字符串。所有的元素会被连在一起，并且用逗号隔开。例如，`['a', 'b', 'c']` 会被转化为字符串 `"a,b,c"`。

#### 2.8.7 reduce

![image-20240131232848894](D:/%E6%96%87%E4%BB%B6/typora%E5%9B%BE%E7%89%87/image-20240131232848894.png)

`reduce` 是 JavaScript 数组的一个高阶方法，用于对数组元素进行累计计算。它接受一个回调函数作为参数，并且可以指定一个初始值。

回调函数接受四个参数：

1. 累加器 (accumulator)：累计的结果。
2. 当前值 (currentValue)：当前正在处理的数组元素。
3. 当前索引 (index)：当前正在处理的数组元素的索引。
4. 原数组 (array)：被遍历的原数组。

回调函数可以执行任意计算逻辑，并返回一个新的累计值。这个新的累计值会在下一次迭代中成为累加器的值。

语法如下：

```js
array.reduce(callback, initialValue)
```

其中，`callback` 是回调函数，`initialValue` 是可选的初始值。

下面是一个简单的示例，演示如何使用 `reduce` 方法对数组进行累加求和：

```js
const numbers = [1, 2, 3, 4, 5];

const sum = numbers.reduce((accumulator, currentValue) => {
  return accumulator + currentValue;
}, 0);
// accumulator 初始值为0
// 第二次的accumulator就是第一次执行的return值
// 第三次的accumulator就是第二次执行的return值


console.log(sum); // 输出 15
```

在上面的示例中，我们定义了一个名为 `numbers` 的数组，然后使用 `reduce` 方法对数组进行累加求和。在回调函数中，我们将累加器 `accumulator` 和当前值 `currentValue` 相加，并返回新的累加值。最后，我们指定初始值为 0，这样在第一次迭代时，累加器的初始值就是 0。

注意，`reduce` 方法并不会修改原数组，而是返回一个新的结果。







你觉得数组中有哪些方法比较复杂，哪些方法不会改变原数组

数组的方法有哪些？
遍历数组的方法有哪些？