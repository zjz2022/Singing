数字



### 2.9  数字取整

#### 2.9.1 方法汇总

1. Math.floor()：向下取整，即取不大于给定数值的最大整数。例如，Math.floor(3.7)会给出3。

2. Math.ceil()：向上取整，即取不小于给定数值的最小整数。例如，Math.ceil(3.1)会给出4。

3. Math.round()：对给定的数值进行四舍五入。例如，Math.round(3.1)会给出3，Math.round(3.6)会给出4。

4. parseInt()：对输入字符串进行解析，并返回整数。如果参数不是一个字符串，则会首先转换为字符串。例如，parseInt('3.14')会给出3。

5. 使用双位或运算（~~）：这是一种JS位运算。例如，~~3.7，结果是3。

6. 使用双非符号（!!）后再减1：例如将布尔值true转为数值1的常用技巧之一是使用双非操作符，即!!。!!3.6会得到true，然后true-1得到0。

7. 使用Math.trunc()：直接去除小数部分，只保留整数部分。例如，Math.trunc(3.6)会给出3。

#### 2.9.2 parseInt的第二个参数

parseInt() 函数接收两个参数。第一个参数是要被解析的字符串，第二个参数是基数(radix)。

基数参数是可选的，它表示要解析的数字的基数。这个值必须介于 2 - 36 之间。如果不给出这个参数，那么它默认值就是10，除非字符串以 "0x" 开头（这种情况下基数会被认为是 16 ）。

这里有一些例子：

- parseInt("123", 5) 会将 "123" 视为五进制数，然后将其转换为十进制，结果是38。

- console.log(parseInt('123', 5)) // 38

- parseInt("1011", 2) 会将 "1011" 视为二进制数，然后将其转换为十进制，结果是11。

- console.log(parseInt('1011', 2)) // 11

第二个参数的存在是为了让你可以解析不同基数的数，这对处理特定类型的数据或者编写某些类型的算法非常有用。







### 2.4 浮点数的精度问题

#### 2.4.1 

```js
0.1 + 0.2 === 0.3 0.30000000000000004

0.2 + 0.2 === 0.4

0.2 * 0.1 === 0.02
```

在二进制中无法精确地表示 0.1 和 0.2，这就引发了浮点数的精度问题。

 JavaScript 使用二进制浮点数表示数字，而 0.1 和 0.2 等小数在二进制中无法被精确地表示。所以在对这两个值进行求和时，由于二进制表示的精度问题，得出的结果并未准确地等于 0.3，而是一个非常接近 0.3 的数，即 0.30000000000000004。

#### 2.4.2 

假设我要实现一个add函数，传入任意的小数，怎么获得精准的结果