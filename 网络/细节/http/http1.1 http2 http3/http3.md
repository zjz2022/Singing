- [什么是 HTTP/3？](https://nordvpn.com/zh/blog/what-is-http3/#what-is-http3)
- [HTTP/3 是如何工作的？](https://nordvpn.com/zh/blog/what-is-http3/#how-does-http3-work)
- [HTTP/3 与其他版本的 HTTP 有何不同？](https://nordvpn.com/zh/blog/what-is-http3/#how-is-http3-different-from-other-versions-of-http)
- [HTTP/3 有什么好处？](https://nordvpn.com/zh/blog/what-is-http3/#benefits-of-http3)
- [相对于 HTTP/2 使用 HTTP/3 有哪些缺点？](https://nordvpn.com/zh/blog/what-is-http3/#drawbacks-of-using-http3-over-http/2)
- [HTTP/3 现在可用吗？](https://nordvpn.com/zh/blog/what-is-http3/#is-http3-over-available-now)
- [您应该启用 HTTP/3 吗？](https://nordvpn.com/zh/blog/what-is-http3/#should-you-enable-http3)

## 什么是 HTTP/3？

[HTTP/3（或 HTTP3）是超文本传输协议](https://nordvpn.com/blog/what-is-http/)的最高级版本。简单来说，它是一组管理设备如何通过互联网通信和交换信息的规则。当您的浏览器（客户端）想要加载网页时，它会向服务器发送请求，服务器会以该页面的内容进行响应。

随着互联网的发展，信息交换的规则也需要相应更新。 HTTP/3 是 HTTP2 的升级版本 — 它使您的网页浏览更快、更流畅、更安全。但是 HTTP3 是如何产生的呢？

## HTTP/3 何时发布？

HTTP/3 没有具体的发布日期。它是从实验性的快速 UDP 互联网连接 ( [QUIC](https://nordvpn.com/blog/what-is-quic-protocol/) ) 协议演变而来。 Google 于 2012 年创建了 QUIC 传输协议，以解决 HTTP/2 的性能限制，包括 HTTP/2 对传输控制协议 (TCP) 的依赖。 QUIC 的目标是减少延迟、改善拥塞控制并确保更好的安全性——加密成为协议功能的固有部分。

互联网协议标准化组织互联网工程任务组 (IETF) 认识到了 QUIC 的潜力。 IETF 成立了一个工作组并开始完善 QUIC，使其适合更广泛的采用。 Google、IETF 和各个互联网利益相关者之间的合作产生了“HTTP over QUIC”（即 HTTP/3）。

互联网工程任务组于 2022 年正式标准化 HTTP3，但其广泛采用和实施仍在继续。那么 HTTP/3 是如何工作的呢？

## HTTP/3 是如何工作的？

对于其传输层，HTTP/3 使用基于用户数据报协议 (UDP) 构建的 QUIC。与 HTTP/1 和 HTTP/2 使用的 TCP 不同，UDP 是一种无连接协议。 UDP的这一特性使得QUIC能够更快地建立连接。

当客户端想要连接到服务器时，HTTP/3 会发起 QUIC 握手。连接建立后，客户端开始通过 QUIC 协议向服务器发送 HTTP 请求（小数据包）。 QUIC 使用 UDP 发送数据。

当服务器处理客户端的请求时，它会发送响应。就像请求一样，响应被分解为数据包，并通过 QUIC 发送。服务器也可以发送多个并行响应。

在某些情况下，客户端和服务器之前已进行通信，UDP 通常可以在单次往返 (1-RTT) 甚至零次往返 (0-RTT) 中确保连接安全。在 0-RTT 情况下，请求被发送到服务器并立即处理，无需完全握手。这可以减少连接延迟。

如果传输过程中发生数据包丢失，QUIC 会检测到丢失的数据包，而无需等待超时，这与 TCP 不同。这意味着网络上的临时问题不会减慢速度。 HTTP/3 还可以通过同一连接并行发送多个数据流。如果您要加载包含多个元素（例如图像或脚本）的网站，浏览器可以同时加载所有元素。

QUIC 在整个过程中维护连接状态。连接状态就像客户端（您的计算机）和服务器之间正在进行的对话的记录。它包括有关连接状态、拥塞控制、加密密钥和安全状态的信息。通过保持这种状态，QUIC 确保对话不会重复，并且没有人可以监听或干扰它们。

一旦请求和响应的交换完成，客户端或服务器就会启动由 QUIC 协议管理的关闭过程。

## HTTP/3 与其他版本的 HTTP 有何不同？

HTTP/3 和 HTTP 其他版本之间的差异在于[UDP 和 TCP 之间的差异](https://nordvpn.com/blog/tcp-or-udp-which-is-better/)。 QUIC 建立在 UDP 之上，通过允许并行发送多个数据流，绕过了旧 TCP 协议的许多限制。 QUIC 还默认包含加密功能。由于握手所需的往返次数较少，它使初始连接设置和数据传输更加安全和快捷。

从本质上讲，与 HTTP/1.1 和 HTTP/2 相比，QUIC 和 UDP 为 HTTP/3 中的 Web 通信提供了响应更快、更安全的用户体验。总体而言，HTTP/3 建立并改进了其前身的功能：

|            | HTTP/1.1              | HTTP/2                    | HTTP/3                      |
| :--------- | :-------------------- | :------------------------ | :-------------------------- |
| 协议       | 传输控制协议          | 传输控制协议              | 基于 QUIC 的 UDP            |
| 连接并发数 | 每个 TCP 连接一个请求 | 单个 TCP 连接上的多个请求 | 通过单个 UDP 连接的多个请求 |
| 安全       | 可选的 TLS            | 强制 TLS                  | 强制 TLS，集成到 QUIC 中    |
| 潜伏       | 高延迟                | 减少延迟                  | 进一步减少延迟              |
| 损失恢复   | 耗时                  | 略有改善                  | 显着改善                    |

## HTTP/3 有什么好处？

HTTP/3 提高了安全性、速度和可靠性。就像基于 TLS/SSL 的 HTTP 为您的数据在浏览器和网站之间传输创建安全隧道一样，QUIC（以及扩展的 HTTP/3）也从一开始就在传输层对您的数据进行加密。这意味着最上层（应用层）的数据默认是加密的。

HTTP/3 可以更快地交付网页和服务，因为它依赖于基于轻量级无连接 UDP 构建的 QUIC 传输协议。 QUIC 允许并行发送多个数据流，从而减少连接时间和传输延迟。即使用户更改网络（例如从 Wi-Fi 切换到移动数据），HTTP/3 也能建立更快的连接。

HTTP/3 可以估计发送和接收两个方向上有多少可用网络容量。这有助于调整数据流、防止拥塞并最大限度地减少缓冲和速度减慢。

新的 HTTP/3 提供更快的连接，因此最终用户可以享受更快的浏览、更流畅的流媒体、更灵敏的在线游戏以及更安全的数据传输。

通过启用 HTTP/3，内容提供商可以受益于更快、更可靠的内容交付，尤其是高分辨率媒体和交互式 Web 应用程序。改进的内容交付可以提高用户满意度和参与度。 HTTP/3 还简化了网站维护。

对于网络运营商来说，使用 HTTP/3 可以更轻松地优化网络资源使用。该协议即使在网络变化期间也能保持连接，从而减少中断并改善用户体验。它还可以降低网络基础设施的运营成本。但是启用 HTTP/3 有什么缺点吗？

## 相对于 HTTP/2 使用 HTTP/3 有哪些缺点？

尽管 HTTP/3 是迄今为止最先进的 HTTP 协议，但它在实现复杂性、兼容性和故障排除方面也存在缺陷。实现 HTTP/3 比 HTTP/2 更复杂，因为它使用基于 UDP 的 QUIC 而不是 TCP。网站和服务器需要更多的工作来支持它。因此，并非所有 Web 浏览器和服务器都支持 HTTP/3。即使网站支持它，某些用户也可能无法使用它，因为他们的浏览器不支持它。

HTTP/3 加密了更多数据，因此工程师更难解决问题。缺乏有关流量的信息可能会使识别和解决问题变得困难。 HTTP/3 还使用更多的服务器资源，因此服务器可能很难同时处理大量用户。某些网络设备（例如路由器）尚未针对 HTTP/3 发送数据的方式进行优化。

## HTTP/3 现在可用吗？

HTTP/3 尚未像 HTTP/2 那样广泛使用。截至 2023 年 11 月，只有约[27.1% 的网站使用 HTTP/3](https://w3techs.com/technologies/overview/site_element)。

服务还支持这一最新的超文本传输协议，以提高其平台的速度和可靠性，包括 Google 服务（还有 YouTube）、Microsoft 服务、Mozilla 服务、Amazon Web Services、Cloudfare、Facebook 和 LinkedIn。

作为用户，您不必担心它，因为如果您的浏览器支持 HTTP/3，那么在与支持它的服务器通信时会自动使用它。

### Web 浏览器支持 HTTP/3

所有主流浏览器要么默认支持 HTTP/3，要么提供在其设置中启用它的选项。这些浏览器包括**Google Chrome**（版本 87 及更高版本）、**Mozilla Firefox**（版本 88 及更高版本）、**Microsoft Edge**（Chromium 87 及更高版本）、**Safari**（可在版本 14 及更高版本上启用）和**Opera**（Chromium 87 及更高版本） ）。

未来可能会更广泛地采用浏览器。由于上述主流浏览器均已实施新标准，行业趋势已明朗化。

## 您应该启用 HTTP/3 吗？

如果可以的话，您应该启用 HTTP/3，因为它可以提高您的浏览速度、安全性和连接，特别是当您经常从 Wi-Fi 切换到移动数据或使用不稳定的网络时。您将能够享受更快的加载时间和更无缝的浏览体验。如果您是网站所有者，启用此新标准可以提高您的网站性能和用户满意度。但是，请确保您的服务器和内容交付网络支持 HTTP/3。

![image-20240523222035787](D:/%E6%96%87%E4%BB%B6/typora%E5%9B%BE%E7%89%87/image-20240523222035787.png)